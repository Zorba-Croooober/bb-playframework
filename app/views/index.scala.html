@import play.mvc.Http.Request

@(
	comments: Seq[Comments], 
	form: Form[CommentData],
)(implicit 
	request: Request, 
	messages: play.i18n.Messages,
)

@main("Bulletin board") {

	@helper.form(routes.HomeController.createComment) {
		@helper.CSRF.formField

		@helper.inputText(form("name"))
		@helper.inputText(form("title"))
		@helper.inputText(form("comment"))

		<button type="submit">send comment</button>
	}

	@if(form.hasGlobalErrors) {
	@form.globalErrors.asScala.map { error: play.data.validation.ValidationError =>
		<div>
			@error.key: @error.message
		</div>
	}
	}

	@request.flash.asScala().data.map { case (name, value) =>
		<div class="@name">@value</div>
	}

	@for(c <- comments) {
		<p>@c.title, @c.name, @c.comment, @c.createdAt, @c.updatedAt</p>
	}
}
